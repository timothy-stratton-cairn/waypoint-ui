<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Client Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:insert="~{header :: main}">...</div>

<div class="container">
    <!-- Client Information -->
    <div class="note_card">
		<fieldset>
        <legend>Client</legend>
        <div>
            <label>Client Name:</label>
            <span th:text="${client.firstName} + ' ' + ${client.lastName}"></span>
        </div>
        <div>
            <label>Email:</label>
            <span th:text="${client.email}"></span>
        </div>
        <div>
			<label>CoClient:</label>
			<span th:text="${client.coclient}"></span>
		</div>
        <div>
            <label>Roles:</label>
            <span th:text="${#strings.arrayJoin(client.roles, ' ')}"></span>
        </div>
        </fieldset>
    </div>
</div>
<div class="container">
    <!-- Dependents Information -->
    <div class="note_card">
		<fieldset>
        <legend>Dependents</legend>
        <ul class="nav nav-tabs" id="dependentTabs" role="tablist">
            <li class="nav-item" th:each="dependent, iterStat : ${client.dependents}" role="presentation">
                <button class="nav-link" th:id="'dependent-tab' + ${iterStat.index}" data-bs-toggle="tab" th:data-bs-target="'#dependent' + ${iterStat.index}" type="button" role="tab" th:text="${dependent.firstName} + ' ' + ${dependent.lastName}"></button>
            </li>
        </ul>
        <div class="tab-content" id="dependentTabsContent">
            <div th:each="dependent, iterStat : ${client.dependents}" class="tab-pane fade" th:id="'dependent' + ${iterStat.index}" role="tabpanel">
                <div>
                    <label>Id:</label>
                    <span th:text="${dependent.id}"></span>
                </div>
                <div>
                    <label>Username:</label>
                    <span th:text="${dependent.username}"></span>
                </div>
                <div>
                    <label>Name:</label>
                    <span th:text="${dependent.firstName} + ' ' + ${dependent.lastName}"></span>
                </div>
            </div>
        </div>
    </fieldset>
</div>
</div>
<div class="container mt-3">
    <button onclick="history.back()" class="btn btn-primary">Back</button>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Activate the first tab by default
    var firstTabEl = document.querySelector('#dependentTabs .nav-link');
    var firstTab = new bootstrap.Tab(firstTabEl);

    if (firstTabEl) {
        firstTab.show();
    }
</script>
</body>
<div th:insert="~{footer :: main}">...</div>
</html>

